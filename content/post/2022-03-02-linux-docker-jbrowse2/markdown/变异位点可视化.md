### 变异位点可视化

容器启动命令：

```shell
sudo docker run -it --name jbrowse2 -v /mnt/vol2_ws/test/wbzhao/wbzhao:/wbzhao -v /mnt/vol2_ws/test/wbzhao/wbzhao/html:/usr/share/nginx/html -p 8888:80 -d jbrowse2
```

**！！**根据实际需求修改挂载目录及端口

#### 一、路径

`10.0.1.1:/mnt/vol1/rendong/test/zhaowb_test/html/`

`10.0.1.1:/mnt/vol1/rendong/test/zhaowb_test/scripts/`

#### 二、镜像

镜像：jbrowse2:latest

#### 三、文件

`/mnt/vol1/rendong/test/zhaowb_test/html/`下全部文件 

`/mnt/vol1/rendong/test/zhaowb_test/scripts `下`mutation_sites_vis.sh`

#### 四、命令及运行参数

###### tumor and normal
```shell
#generate somatic sites
docker exec -d jbrowse2 bash \
/mnt/vol1/rendong/test/zhaowb_test/scripts/mutation_sites_vis.sh \
-t 2000321 \
–n 2000322 \
-b /mnt/vol1/rendong/test/zhaowb_test/2000321/2.mapping/2000321.recal-H.bam \
-B /mnt/vol1/rendong/test/zhaowb_test/2000321/2.mapping/2000322.recal-H.bam \
-r /mnt/vol1/rendong/project_info/ref_file/hg19/hg19.fasta \
-s /mnt/vol1/rendong/test/zhaowb_test/2000321/3.somatic_VC/620.xls\
-o /mnt/vol1/rendong/test/zhaowb_test/2000321/url
#generate germline sites
docker exec -d jbrowse2 bash \
/mnt/vol1/rendong/test/zhaowb_test/scripts/mutation_sites_vis.sh \
-t 2000321 \
–n 2000322 \
-b /mnt/vol1/rendong/test/zhaowb_test/2000321/2.mapping/2000321.recal-H.bam \
-B /mnt/vol1/rendong/test/zhaowb_test/2000321/2.mapping/2000322.recal-H.bam \
-r /mnt/vol1/rendong/project_info/ref_file/hg19/hg19.fasta \
-s /mnt/vol1/rendong/test/zhaowb_test/2000321/3.germline_VC/genetic.xls \
-o /mnt/vol1/rendong/test/zhaowb_test/2000321/url
```

###### only tumor
```shell
#generate somatic sites
docker exec -d jbrowse2 bash \
/mnt/vol1/rendong/test/zhaowb_test/scripts/mutation_sites_vis.sh \
-t 2000321 \
-b /mnt/vol1/rendong/test/zhaowb_test/2000321/2.mapping/2000321.recal-H.bam \
-r /mnt/vol1/rendong/project_info/ref_file/hg19/hg19.fasta \
-s /mnt/vol1/rendong/test/zhaowb_test/2000321/3.somatic_VC/620.xls\
-o /mnt/vol1/rendong/test/zhaowb_test/2000321/url
```

###### only normal
```shell
#generate germline sites
docker exec -d jbrowse2 bash \
/mnt/vol1/rendong/test/zhaowb_test/scripts/mutation_sites_vis.sh \
–n 2000322 \
-B /mnt/vol1/rendong/test/zhaowb_test/2000321/2.mapping/2000322.recal-H.bam \
-r /mnt/vol1/rendong/project_info/ref_file/hg19/hg19.fasta \
-s /mnt/vol1/rendong/test/zhaowb_test/2000321/3.germline_VC/genetic.xls \
-o /mnt/vol1/rendong/test/zhaowb_test/2000321/url
```



| 参数 | 释义                                                  |
| ---- | ----------------------------------------------------- |
| -t   | 癌症样本编号，示例如上                                |
| -n   | 胚系样本编号，示例如上                                |
| -b   | 癌症样本bam文件，示例如上                             |
| -B   | 胚系样本bam文件，示例如上                             |
| -r   | 参考基因组                                            |
| -s   | 变异位点列表，必须是常规的`620.xls/genetic.xls`的格式 |
| -o   | 任务的结果输出目录 ,如`url/`                          |

#### 五、结果说明

结果最终输出**<span style="color:#855195;">1个文件夹</span>**，包含**<span style="color:#855195;">4/2个xls文件</span>**，以及在**`10.0.1.1:/mnt/vol1/rendong/test/zhaowb_test/html/`中保存的项目ID对应变异位点的html存放目录 **：

| 文件             | 内容                           |
| ---------------- | ------------------------------ |
| somatic_url.xls  | 体系变异位点对应的url          |
| germline_url.xls | 胚系变异位点对应的url          |
| 620.xls          | 最后一列追加了url的620.xls     |
| genetic.xls      | 最后一列追加了url的genetic.xls |